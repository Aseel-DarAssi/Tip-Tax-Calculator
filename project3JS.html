<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip & Tax Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="left-panel">
      <h1><i class="fas fa-calculator"></i> Tip & Tax Calculator</h1>
      <p class="subtitle">Calculate your bill with tax, tip, and discounts</p>

      <div class="codes-info">
        <strong><i class="fas fa-tags"></i> Available Discount Codes:</strong>
        <div><strong>VIP:</strong> 10% off for bills over $200 or bills over $150 with 10%+ tip</div>
        <div><strong>STUDENT:</strong> $10 off for bills of $50 or more</div>
        <div><strong>WEEKEND:</strong> 5% off on all weekend bills</div>
      </div>

      <div class="input-group">
        <label for="bill"><i class="fas fa-dollar-sign"></i> Bill Amount ($)</label>
        <input type="number" id="bill" placeholder="Enter bill amount" step="0.01">
      </div>

      <div class="input-group">
        <label for="tax"><i class="fas fa-receipt"></i> Tax Percentage (%)</label>
        <input type="number" id="tax" placeholder="Enter tax percentage" step="0.1">
      </div>

      <div class="input-group">
        <label for="tip"><i class="fas fa-utensils"></i> Tip Percentage (%)</label>
        <input type="number" id="tip" placeholder="Enter tip percentage" step="0.1">
      </div>

      <div class="input-group">
        <label for="code"><i class="fas fa-tag"></i> Discount Code (Optional)</label>
        <input type="text" id="code" placeholder="Enter discount code (VIP, STUDENT, WEEKEND)">
      </div>
    </div>

    <div class="right-panel results">
      <div class="result-container">
        <div class="button-group">
          <button id="calc"><i class="fas fa-calculator"></i> Calculate</button>
          <button id="reset"><i class="fas fa-undo"></i> Reset</button>
        </div>
        <div id="out">
          <div class="result-item">Enter your bill details and click Calculate</div>
        </div>
      </div>
    </div>
  </div>
    <script>
          /*
      Data Types in JavaScript:
      - String (text)
      - Number (numeric values)
      - Boolean (true/false)
      - Undefined (not defined)
      - Null (empty value)
    */
        let appVersion="1.0";
        let calculationCount=0;
        let lastCalculationTime=null;

        const APP_NAME="Tip & Tax Calculator";
        const DISCOUNT_RULES={
            VIP: {description: "10% off for bills over $200 or bills over $150 with 10%+ tip", discount: 0.10},
            STUDENT: {description: "$10 off for bills of $50 or more", discount: 10},
            WEEKEND: {description: "5% off on all weekend bills", discount: 0.05}
        };
  // ========== DATA TYPES ==========
        let stringExample="This is s text string";
        let numberExample=42;
        let decimalExample=3.14;
        let booleanExample=true;
        let undefinedExample;
        let nullExample=null;
       // ========== DOM ELEMENTS ==========
        const calcBtn = document.getElementById('calc');
        const resetBtn = document.getElementById('reset');
        const outputDiv = document.getElementById('out');
       // ========== EVENT HANDLERS ==========
        calcBtn.addEventListener('click', function(){
       // Get values from inputs
        const billRaw = document.getElementById('bill').value;
        const taxRaw = document.getElementById('tax').value;
        const tipRaw = document.getElementById('tip').value;
        const codeRaw = document.getElementById('code').value;  
        
        const bill = Number(billRaw);
        const taxP = Number(taxRaw);
        const tipP = Number(tipRaw);     
        const code = String(codeRaw).trim().toUpperCase(); 
        // Validate input (logical + comparison)
        const valid =
            !isNaN(bill) && bill > 0 &&
            !isNaN(taxP) && taxP >= 0 && 
            !isNaN(tipP) && tipP >= 0;

        if (!valid){
            outputDiv.innerHTML = '<div class="error">please enter valid positive numbers for bill,tax and tip</div>';
            return;
        }
         // Calculate tax and tip amounts
        const taxAmt = bill * (taxP / 100);
        const tipAmt = bill * (tipP / 100);        

        let subtotal = bill + taxAmt + tipAmt;

        let rewardPoints = 5;          
        rewardPoints += 2;              
        rewardPoints *= 1.5;            
        rewardPoints **= 1;  
       // String concatenation (+)
        const baseLine = "Bill: $" + bill.toFixed(2) +
                        " | Tax: $" + taxAmt.toFixed(2) +
                        " | Tip: $" + tipAmt.toFixed(2);
       // ========== DISCOUNT RULES (COMPARISON + LOGICAL OPERATORS) ==========
        let discount = 0;
        let discountDescription = "";
        let discountType = "";

        if (code === "VIP" && (subtotal > 200 || (bill > 150 && tipP >= 10))) {
            discount = subtotal * 0.10;
            discountDescription = DISCOUNT_RULES.VIP.description;
            discountType = "VIP"
        }
        else if (code === "STUDENT" && subtotal >= 50) {
            discount = 10;
            discountDescription = DISCOUNT_RULES.STUDENT.description;
            discountType = "STUDENT";
        }
        else if (code === "WEEKEND") {
            discount = subtotal * 0.05;
            discountDescription = DISCOUNT_RULES.WEEKEND.description;
            discountType = "WEEKEND";
        } 
        // ========== FINAL CALCULATIONS ==========
        const finalTotal = subtotal - discount;

        let outputHTML = `
            <div class="result-item">
                <span>Subtotal:</span>
                <span class="highlight">$${subtotal.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Discount Applied:</span>
                <span class="highlight">-$${discount.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Final Total:</span>
                <span class="highlight">$${finalTotal.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Reward Points Earned:</span>
                <span class="highlight">${rewardPoints.toFixed(0)}</span>
            </div>

        `;

        if (discount > 0){
            outputHTML += `
                <div class="discount-info">
                    <strong>${discountType} Discount Applied!</strong><br>
                </div> `;
        }

        outputHTML += `
            <div class="result-item">
                <span>Discount Code Used:</span>
                <span class="highlight">${code || "None"}</span>
            </div>
            `;
        // Display the results
        outputDiv.innerHTML = outputHTML
        
        console.log("=== BILL CALCULATION ===");
        console.log("Bill Amount:", bill);
        console.log("Tax Percentage:", taxP);
        console.log("Tip Percentage:", tipP);
        console.log("Discount Code:", code);
        console.log("Tax Amount:", taxAmt);
        console.log("Tip Amount:", tipAmt);
        console.log("Subtotal:", subtotal);
        console.log("Discount Applied:", discount);
        console.log("Final Total:", finalTotal);
        console.log("Reward Points:", rewardPoints);
        
        console.log("=== DATA TYPES ===");
        console.log("bill type:", typeof bill);
        console.log("taxP type:", typeof taxP);
        console.log("tipP type:", typeof tipP);
        console.log("code type:", typeof code);
        console.log("discount type:", typeof discount);

        calculationCount += 1;
        lastCalculationTime = new Date().toLocalTimeString();

        console.log("=== APP STATE ===");
        console.log("Calculation Count:", calculationCount);
        console.log("Last Calculation:", lastCalculationTime);
        console.log("App Version:", appVersion);
        console.log("App Name:", APP_NAME);       
        }

            );
        
        resetBtn.addEventListener('click', function() {
            document.getElementById('bill').value = '';
            document.getElementById('tax').value = '';
            document.getElementById('tip').value = '';
            document.getElementById('code').value = '';

            outputDiv.innerHTML = '<div class="result-item">Enter your bill details and click calculate</div>';
            console.log("Form reset");
        });

        console.log("Tip & Tax Calculator loaded successfully!");
        console.log("Available discount codes: VIP, STUDENT, WEEKEND");   
    </script>
    
</body>
</html>
